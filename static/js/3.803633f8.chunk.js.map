{"version":3,"sources":["images/essentials_1400x.jpg","components/pages/ProductList/ProductList.js"],"names":["module","exports","ProductList","productSortRef","React","createRef","handleSortPosition","bind","window","addEventListener","this","distanceFromTop","current","getClientRects","top","props","getSortDistance","removeEventListener","clearSort","currentProducts","sortedProducts","length","map","product","idx","key","id","image","name","price","animationDelay","products","openSort","className","style","backgroundImage","productListHeader","ref","onClick","renderProducts","Component","connect","state","firestoreProducts","sortTab","sort"],"mappings":"sHAAAA,EAAOC,QAAU,IAA0B,8C,uICOrCC,EAAW,kDACf,aAAe,IAAD,EAGiD,OAHjD,qBACZ,gBACKC,eAAiBC,IAAMC,YAC5B,EAAKC,mBAAqB,EAAKA,mBAAmBC,KAAK,gBAAM,EAgE9D,OA/DA,8CAED,WACEC,OAAOC,iBAAiB,SAAUC,KAAKJ,oBACvC,IAAIK,EAAkBD,KAAKP,eAAeS,QAAQC,iBAAiB,GAAGC,IACtEJ,KAAKK,MAAMC,gBAAgBL,KAC5B,kCAED,WACEH,OAAOS,oBAAoB,SAAUP,KAAKJ,oBAC1CI,KAAKK,MAAMG,cACZ,gCAED,WACE,IAAIP,EAAkBD,KAAKP,eAAeS,QAAQC,iBAAiB,GAAGC,IACtEJ,KAAKK,MAAMC,gBAAgBL,KAC5B,4BAED,SAAgBQ,EAAiBC,GAQ/B,OANIA,EAAeC,OAAS,EACPD,EAEAD,GAGGG,KAAI,SAACC,EAASC,GACpC,OACE,kBAAC,IAAW,CACVC,IAAKF,EAAQG,GACbA,GAAIH,EAAQG,GACZC,MAAOJ,EAAQI,MACfC,KAAML,EAAQK,KACdC,MAAON,EAAQM,MACfC,eAAgBN,SAIvB,oBAED,WACE,MAA+Cd,KAAKK,MAA5CgB,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAUZ,EAAc,EAAdA,eAE5B,OACE,6BAASa,UAAU,eAEjB,4BAAQA,UAAU,sBAAsBC,MAAO,CAACC,gBAAgB,OAAD,OAASC,IAAiB,OACvF,wBAAIH,UAAU,cAAY,aAG5B,yBAAKA,UAAU,oBAAoBI,IAAK3B,KAAKP,gBAC3C,4BAAQmC,QAAS,kBAAMN,KAAYC,UAAU,4BAA0B,OAErE,uBAAGA,UAAU,0BAIjB,yBAAKA,UAAU,2BACZvB,KAAK6B,eAAeR,EAAUX,SAKtC,EApEc,CAASoB,aAiFXC,uBATS,SAACC,GACvB,MAAO,CAELX,SAAUW,EAAMC,kBAChBC,QAASF,EAAMG,KAAKD,QACpBxB,eAAgBsB,EAAMG,KAAKzB,kBAIS,CAAEY,aAAUhB,oBAAiBE,eAAtDuB,CAAmEvC","file":"static/js/3.803633f8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/essentials_1400x.581f2b62.jpg\";","import React, { Component } from 'react';\nimport ProductTile  from '../../ProductTile/ProductTile'; \nimport { connect } from 'react-redux'; \nimport { openSort, getSortDistance, clearSort } from '../../../actions'; \n\nimport productListHeader from '../../../images/essentials_1400x.jpg'; \n\nclass ProductList extends Component  {\n  constructor() {\n    super();  \n    this.productSortRef = React.createRef(); \n    this.handleSortPosition = this.handleSortPosition.bind(this); \n  }\n\n  componentDidMount () { \n    window.addEventListener(\"scroll\", this.handleSortPosition);\n    let distanceFromTop = this.productSortRef.current.getClientRects()[0].top; \n    this.props.getSortDistance(distanceFromTop); \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleSortPosition);\n    this.props.clearSort(); \n  }\n\n  handleSortPosition () {\n    let distanceFromTop = this.productSortRef.current.getClientRects()[0].top; \n    this.props.getSortDistance(distanceFromTop); \n  }\n\n  renderProducts (currentProducts, sortedProducts) {\n    let productsToRender; \n    if (sortedProducts.length > 0) {\n      productsToRender = sortedProducts; \n    } else {\n      productsToRender = currentProducts; \n    } \n\n    return productsToRender.map((product, idx) => {\n      return (                 \n        <ProductTile     \n          key={product.id}               \n          id={product.id}\n          image={product.image}\n          name={product.name}\n          price={product.price}\n          animationDelay={idx}\n        />\n      );\n    }); \n  }\n\n  render() {\n    const { products, openSort, sortedProducts } = this.props; \n  \n    return (\n      <section className=\"ProductList\">\n       \n        <header className=\"ProductList__header\" style={{backgroundImage: `url(${productListHeader})`}}>\n          <h1 className=\"Heading h1\">Products</h1>\n        </header>  \n  \n        <div className=\"ProductList__sort\" ref={this.productSortRef}>\n          <button onClick={() => openSort()} className=\"Heading Text--subdued h6\">\n            Sort\n            <i className=\"fas fa-chevron-down\"/>\n          </button>\n        </div> \n\n        <div className=\"ProductList__collection\">\n          {this.renderProducts(products, sortedProducts)}\n        </div>\n  \n      </section>\n    );\n  }\n  \n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // products: state.products, \n    products: state.firestoreProducts, \n    sortTab: state.sort.sortTab, \n    sortedProducts: state.sort.sortedProducts\n  }\n}\n\nexport default connect(mapStateToProps, { openSort, getSortDistance, clearSort })(ProductList);"],"sourceRoot":""}